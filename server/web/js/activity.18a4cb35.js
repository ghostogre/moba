(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["activity"],{"159b":function(t,e,i){var n=i("da84"),r=i("fdbc"),o=i("17c2"),c=i("9112");for(var a in r){var s=n[a],f=s&&s.prototype;if(f&&f.forEach!==o)try{c(f,"forEach",o)}catch(h){f.forEach=o}}},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,r=i("a640"),o=i("ae40"),c=r("forEach"),a=o("forEach");t.exports=c&&a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1e8c":function(t,e,i){t.exports=i.p+"img/plusone.88a54051.webp"},"3fcf":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("canvas",{ref:"activity",staticClass:"canvas w-100",attrs:{width:t.scrollWidth,height:t.scrollHeight},on:{touchstart:t.listenClick}},[i("h5",[t._v("当前浏览器版本不支持！")])])])},r=[],o=(i("a4d3"),i("99af"),i("4de4"),i("4160"),i("a434"),i("e439"),i("dbb4"),i("b64b"),i("d3b7"),i("159b"),i("2909")),c=i("ade3"),a=i("2f62");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h=[40,50,60],l={name:"Activity",data:function(){return{ctx:null,imgs:[i("aeb0"),i("8297"),i("1e8c")],coinArr:[],moveCoinAnimation:null,addCoinTimer:null,bubbleArr:[],preloaded:!1}},computed:f({},Object(a["b"])({scrollHeight:"APP/scrollHeight",scrollWidth:"APP/scrollWidth"})),mounted:function(){this.initCanvas(),document.addEventListener("visibilitychange",this.visibility)},beforeDestroy:function(){document.removeEventListener("visibilitychange",this.visibility)},methods:{visibility:function(){var t=document.hidden;t?clearInterval(this.addCoinTimer):this.createCoin()},loadImg:function(t){var e=this;return new Promise((function(i){for(var n=0,r=t.length,o=function(o){var c=new Image;c.onload=function(){n++,t.splice(o,1,{img:c,offScreenCanvas:e.createOffScreenCanvas(c)}),n===r&&(e.preloaded=!0,i())},c.src=t[o]},c=0;c<r;c++)o(c)}))},createOffScreenCanvas:function(t){var e=document.createElement("canvas"),i=e.getContext("2d");return e.width=t.width,e.height=t.height,i.drawImage(t,0,0,e.width,e.height),e},initCanvas:function(){var t=this,e=this.$refs.activity;e.getContext&&(this.ctx=e.getContext("2d"),this.loadImg(this.imgs).then((function(){t.start()})))},drawCoins:function(){var t=this;this.coinArr=this.coinArr.filter((function(e){return e.y<t.scrollHeight})),this.coinArr.forEach((function(e,i){var n=f({},e,{y:e.y+e.speed});t.coinArr.splice(i,1,n),t.ctx.drawImage(e.img,e.x,e.y,e.size,e.size)}))},moveCoins:function(){window.cancelAnimationFrame(this.moveCoinAnimation),this.ctx.clearRect(0,0,this.scrollWidth,this.scrollHeight),this.ctx.drawImage(this.imgs[0].offScreenCanvas,0,0,this.scrollWidth,this.scrollHeight),this.drawCoins(),this.moveCoinAnimation=window.requestAnimationFrame(this.moveCoins)},createCoin:function(){for(var t=this,e=Math.floor(10*Math.random()%3+1),i=[],n=10,r=0;r<e;r++){var c=this.randomSize();n+=this.calcPosition(n,c,e-r-1);var a=20*Math.random,s={x:n,y:-c,size:c,img:this.imgs[1].offScreenCanvas,speed:a>5?a:5};n+=c,i.push(s)}this.coinArr=[].concat(Object(o["a"])(this.coinArr),i),this.addCoinTimer=setTimeout((function(){t.createCoin()}),600)},calcPosition:function(t,e,i){var n=h[h.length-1]+10;return Math.floor((this.scrollWidth-e-t-n*i)*Math.random())},randomSize:function(){return h[Math.floor(10*Math.random()%3)]},start:function(){this.createCoin(),this.moveCoins(),this.drawBubble()},isIntersect:function(t,e,i){var n=t-i.x,r=e-i.y,o=n>0&&n<i.size,c=r>0&&r<i.size;return o&&c},listenClick:function(t){var e=this,i=t.touches[0],n=i.clientX,r=i.clientY,o=[];if(this.coinArr.forEach((function(t,i){e.isIntersect(n,r,t)&&o.push({x:n,y:r,index:i})})),o.length>0){this.count+=1;var c=o.length,a={x:o[c-1].x,y:o[c-1].y,opacity:1};this.bubbleArr.push(a),this.coinArr.splice(o[c-1].index,1)}},drawBubble:function(){var t=this;this.bubbleArr=this.bubbleArr.filter((function(t){return t.opacity>0})),this.bubbleArr.forEach((function(e,i){e.opacity>0&&(t.ctx.save(),t.ctx.globalAlpha=e.opacity,t.ctx.drawImage(t.imgs[2].offScreenCanvas,e.x,e.y,50,50),t.bubbleArr.splice(i,1,f({},e,{opacity:e.opacity-.02})),t.ctx.restore())})),this.drawBubbleAnimation=window.requestAnimationFrame(this.drawBubble)}}},u=l,d=i("2877"),b=Object(d["a"])(u,n,r,!1,null,null,null);e["default"]=b.exports},4160:function(t,e,i){"use strict";var n=i("23e7"),r=i("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"4de4":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").filter,o=i("1dde"),c=i("ae40"),a=o("filter"),s=c("filter");n({target:"Array",proto:!0,forced:!a||!s},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},8297:function(t,e){t.exports="data:image/webp;base64,UklGRowFAABXRUJQVlA4WAoAAAAQAAAAKwAANAAAQUxQSAEBAAABkEPb2rFHT4zKtm2zSjpbndO5sm3btl2ls+2kZcfRO/zwjLuImABgVKimSQqwOm0RcuKGQ3WIfHdMlz3epGfyww9pgiw5HxHKFx5saEwR2lNaTHFkvxEG3+XxMeK1Rxg+9aenOUBYnDWkxpX1kbBbJEgh8JSwfhP8Pd0RgnLBAkC4gKAtF80kiHNLMJXmYspHlffLKs7DVIQq7/9C7h9B3l9NM6b6IEzhYLqIZcMVAMD3CsNTAnxfMO0Ta63yQFFvmJ1lR6DpfcbcYxTQ505lql0aGNXpZWLJBhj33qVzGwmsJr1SahADlpW7frTsAAhdVr+5jwCk8U+kThzQmrkDswBWUDggZAQAADAUAJ0BKiwANQA+hTaUR6UjIiE1WfwAoBCJbACpKACBD5vxtvRvJ4z+2X8wHnQehP/SekB1AHoAfrd6bnsVf3v/t+l5WJuWfU5Vpu/JOD1O6lnebW2PIvPT/wPUS/3PL79Ifr98A364f8PsFHwKpWb3yMnTMZ0A+Lo0qura91hFgnuIA8rk4ZzTpigIj+8U4rT26Y0T58jd4FYs7zaI1XUbZdGitu1FJAGQAP7+MRXgo8kf6sWPXabe1SpEhwPIt34US8ej4vErpdGvFBtRgJ/1izpj9LneEaHnw39YAZRiAj4mZim2pHc56Lu+ZqzXOheNei2Yj8BrNJujNwi0n9qJWzCiGgVjWGEoqVAQN9/nVZZoJrzzip+cDupkqXCV00kfSlp90R+55Nq8bD10nm6WWZarVMKWdJ4x8KgKvckIxo5MRL7KbGEINUhyYKJpOneYDcaT8L6j+RP3n1C1YZ2PL1Qb/Ba2vdeQkFCHMfiLZnAPgvcUFSwtPPnC6vIgjiot5W+biltDOsADvmimtHpf3OaRC1fdv+CA5SiPMIi8XNgXrv67R/dqpoDXm5r9XzlbykzkPTQFVpLDfn/OUVAdC74tcfPYlPrBIzctETLLy0qY50B1Bbmzz3bTQ15r5oSTV8d+plgh7aWQCZpWvzUWeW1qhUqb1XN9ydNp9DjF+43pte5X0C4GV8CVnrnynMEUV+uKeblk5wtTyQ3+IiHt8uqGp6lozCp6GylnC+sabTw/+MMtjzX98b/lfgxogNNx6cm1yHE71CLvJ4QCN6HEYnZmp+fDwzorWxlbyU09xDHMwC06r4g5uZjCn4t9AacOUgY5weVIuWEyuGbO3lqTb7vL1ZIVVbWv8S3naXELaDHxrMGq6CE102uEbQI0I/LWZAIwKNxETjEX/nj/xyzfO1Ub7FBn6BE83oCi0dCgC5k7g5yZviZKjW6wAEIbx3QjXvuFVe8OoJMCJ2Kb1K47JIy/WDzhR2XW2gDALdvsdgcVkzamcIf/ACyCT97/hv0bdNBsMke+tlsHXvKI7ReFgP4Ld4g0dGBXUWIXUZPDxkaLMAX5TUGKaGK+bcwvNzlxh7VhvH0S9W+r7X4MfxrJDG0epBqWVJZwYLSUaskAd+LT9mAp3JVBu0RlVC3eCv4UZ99w236HBOsKvjowCAHCf8r7ytz5Tk4hc7163x5wcFctKjN2ScEqIzZ5dYQTQSn394k82WcJh9Mxe8sKDyUfhEjLlM3wAPIqFPYu5ZS8FUH4kcI0bk9mnZUU7HPGZmpHT6q6OanVXPf3XnX5Tnn08at1LTctW9I+uAeaHde7f1xLqef+utEaW7NoRDMCkUyn9MQwPQU78LX8yPpi9YvwyFvWNUl3KP5KA8NEggDcQEyNbByaOpY0XRWZL+4lH+ICgZanx8/7mR//z8gcZ0M/bQuuN4aGgIgMcRj18JKbhiScd/4yqGKoBa74ln58cCKTqdxctyVcr8+Ev/9O6gJjsAAA"},a434:function(t,e,i){"use strict";var n=i("23e7"),r=i("23cb"),o=i("a691"),c=i("50c4"),a=i("7b0b"),s=i("65f0"),f=i("8418"),h=i("1dde"),l=i("ae40"),u=h("splice"),d=l("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,v=Math.min,p=9007199254740991,A="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u||!d},{splice:function(t,e){var i,n,h,l,u,d,g=a(this),m=c(g.length),w=r(t,m),y=arguments.length;if(0===y?i=n=0:1===y?(i=0,n=m-w):(i=y-2,n=v(b(o(e),0),m-w)),m+i-n>p)throw TypeError(A);for(h=s(g,n),l=0;l<n;l++)u=w+l,u in g&&f(h,l,g[u]);if(h.length=n,i<n){for(l=w;l<m-n;l++)u=l+n,d=l+i,u in g?g[d]=g[u]:delete g[d];for(l=m;l>m-n+i;l--)delete g[l-1]}else if(i>n)for(l=m-n;l>w;l--)u=l+n-1,d=l+i-1,u in g?g[d]=g[u]:delete g[d];for(l=0;l<i;l++)g[l+w]=arguments[l+2];return g.length=m-n+i,h}})},aeb0:function(t,e,i){t.exports=i.p+"img/bg.fcaad0f5.webp"},b64b:function(t,e,i){var n=i("23e7"),r=i("7b0b"),o=i("df75"),c=i("d039"),a=c((function(){o(1)}));n({target:"Object",stat:!0,forced:a},{keys:function(t){return o(r(t))}})},dbb4:function(t,e,i){var n=i("23e7"),r=i("83ab"),o=i("56ef"),c=i("fc6a"),a=i("06cf"),s=i("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,i,n=c(t),r=a.f,f=o(n),h={},l=0;while(f.length>l)i=r(n,e=f[l++]),void 0!==i&&s(h,e,i);return h}})},e439:function(t,e,i){var n=i("23e7"),r=i("d039"),o=i("fc6a"),c=i("06cf").f,a=i("83ab"),s=r((function(){c(1)})),f=!a||s;n({target:"Object",stat:!0,forced:f,sham:!a},{getOwnPropertyDescriptor:function(t,e){return c(o(t),e)}})}}]);