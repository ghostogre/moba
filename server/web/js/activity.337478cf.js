(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["activity"],{"159b":function(t,e,n){var i=n("da84"),r=n("fdbc"),o=n("17c2"),c=n("9112");for(var a in r){var s=i[a],f=s&&s.prototype;if(f&&f.forEach!==o)try{c(f,"forEach",o)}catch(l){f.forEach=o}}},"17c2":function(t,e,n){"use strict";var i=n("b727").forEach,r=n("a640"),o=n("ae40"),c=r("forEach"),a=o("forEach");t.exports=c&&a?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"1e8c":function(t,e,n){t.exports=n.p+"img/plusone.88a54051.webp"},"3fcf":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{backgroundSize:"cover",backgroundImage:"url("+t.bgImg+")",height:t.scrollHeight+"px",width:t.scrollWidth+"px"}},[n("canvas",{ref:"activity",staticClass:"canvas w-100",attrs:{width:t.scrollWidth,height:t.scrollHeight},on:{touchstart:t.listenClick}},[n("h5",[t._v("当前浏览器版本不支持！")])])])},r=[],o=(n("a4d3"),n("99af"),n("4de4"),n("4160"),n("a434"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("159b"),n("d0ff")),c=n("fc11"),a=n("2f62");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=[40,50,60],u={name:"Activity",data:function(){return{ctx:null,bgImg:n("aeb0"),imgs:[n("8297"),n("1e8c")],coinArr:[],moveCoinAnimation:null,addCoinTimer:null,bubbleArr:[],bubbleCanvas:null,coinCanvas:[]}},computed:f({},Object(a["b"])({scrollHeight:"APP/scrollHeight",scrollWidth:"APP/scrollWidth"})),mounted:function(){this.initCanvas(),document.addEventListener("visibilitychange",this.visibility)},beforeDestroy:function(){document.removeEventListener("visibilitychange",this.visibility)},methods:{visibility:function(){var t=document.hidden;t?clearTimeout(this.addCoinTimer):this.createCoin()},loadImg:function(t){return new Promise((function(e){for(var n=0,i=t.length,r=function(r){var o=new Image;o.onload=function(){n++,t.splice(r,1,o),n===i&&e()},o.src=t[r]},o=0;o<i;o++)r(o)}))},createOffScreenCanvas:function(t,e,n){var i=document.createElement("canvas"),r=i.getContext("2d");return i.width=e,i.height=n,r.drawImage(t,0,0,e,n),i},initCanvas:function(){var t=this,e=this.$refs.activity;e.getContext&&(this.ctx=e.getContext("2d"),this.loadImg(this.imgs).then((function(){t.bubbleCanvas=t.createOffScreenCanvas(t.imgs[1],l[0],l[0]);for(var e=0,n=l.length;e<n;e++)t.coinCanvas.push({size:l[e],offScreenCanvas:t.createOffScreenCanvas(t.imgs[0],l[e],l[e])});t.start()})))},drawCoins:function(){var t=this;this.coinArr=this.coinArr.filter((function(e){return e.y<t.scrollHeight})),this.coinArr.forEach((function(e,n){var i=f({},e,{y:e.y+e.speed});t.coinArr.splice(n,1,i),t.ctx.drawImage(e.img,e.x,e.y)}))},moveCoins:function(){window.cancelAnimationFrame(this.moveCoinAnimation),this.ctx.clearRect(0,0,this.scrollWidth,this.scrollHeight),this.drawCoins(),this.moveCoinAnimation=window.requestAnimationFrame(this.moveCoins)},createCoin:function(){for(var t=this,e=Math.floor(10*Math.random()%3+1),n=[],i=10,r=0;r<e;r++){var c=this.randomSize(),a=c.size,s=c.offScreenCanvas;i+=this.calcPosition(i,a,e-r-1);var f=20*Math.random,l={x:i,y:-a,size:a,img:s,speed:f>5?f:5};i+=a,n.push(l)}this.coinArr=[].concat(Object(o["a"])(this.coinArr),n),this.addCoinTimer=setTimeout((function(){t.createCoin()}),600)},calcPosition:function(t,e,n){var i=l[l.length-1]+10;return Math.floor((this.scrollWidth-e-t-i*n)*Math.random())},randomSize:function(){return this.coinCanvas[Math.floor(10*Math.random()%3)]},start:function(){this.createCoin(),this.moveCoins(),this.drawBubble()},isIntersect:function(t,e,n){var i=t-n.x,r=e-n.y,o=i>0&&i<n.size,c=r>0&&r<n.size;return o&&c},listenClick:function(t){var e=this,n=t.touches[0],i=n.clientX,r=n.clientY,o=[];if(this.coinArr.forEach((function(t,n){e.isIntersect(i,r,t)&&o.push({x:i,y:r,index:n})})),o.length>0){this.count+=1;var c=o.length,a={x:o[c-1].x,y:o[c-1].y,opacity:1};this.bubbleArr.push(a),this.coinArr.splice(o[c-1].index,1)}},drawBubble:function(){var t=this;this.bubbleArr=this.bubbleArr.filter((function(t){return t.opacity>0})),this.bubbleArr.forEach((function(e,n){e.opacity>0&&(t.ctx.save(),t.ctx.globalAlpha=e.opacity,t.ctx.drawImage(t.bubbleCanvas,e.x,e.y),t.bubbleArr.splice(n,1,f({},e,{opacity:e.opacity-.02})),t.ctx.restore())})),this.drawBubbleAnimation=window.requestAnimationFrame(this.drawBubble)}}},h=u,b=(n("a687"),n("2877")),d=Object(b["a"])(h,i,r,!1,null,null,null);e["default"]=d.exports},4160:function(t,e,n){"use strict";var i=n("23e7"),r=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"4de4":function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").filter,o=n("1dde"),c=n("ae40"),a=o("filter"),s=c("filter");i({target:"Array",proto:!0,forced:!a||!s},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"80d9":function(t,e,n){},8297:function(t,e){t.exports="data:image/webp;base64,UklGRowFAABXRUJQVlA4WAoAAAAQAAAAKwAANAAAQUxQSAEBAAABkEPb2rFHT4zKtm2zSjpbndO5sm3btl2ls+2kZcfRO/zwjLuImABgVKimSQqwOm0RcuKGQ3WIfHdMlz3epGfyww9pgiw5HxHKFx5saEwR2lNaTHFkvxEG3+XxMeK1Rxg+9aenOUBYnDWkxpX1kbBbJEgh8JSwfhP8Pd0RgnLBAkC4gKAtF80kiHNLMJXmYspHlffLKs7DVIQq7/9C7h9B3l9NM6b6IEzhYLqIZcMVAMD3CsNTAnxfMO0Ta63yQFFvmJ1lR6DpfcbcYxTQ505lql0aGNXpZWLJBhj33qVzGwmsJr1SahADlpW7frTsAAhdVr+5jwCk8U+kThzQmrkDswBWUDggZAQAADAUAJ0BKiwANQA+hTaUR6UjIiE1WfwAoBCJbACpKACBD5vxtvRvJ4z+2X8wHnQehP/SekB1AHoAfrd6bnsVf3v/t+l5WJuWfU5Vpu/JOD1O6lnebW2PIvPT/wPUS/3PL79Ifr98A364f8PsFHwKpWb3yMnTMZ0A+Lo0qura91hFgnuIA8rk4ZzTpigIj+8U4rT26Y0T58jd4FYs7zaI1XUbZdGitu1FJAGQAP7+MRXgo8kf6sWPXabe1SpEhwPIt34US8ej4vErpdGvFBtRgJ/1izpj9LneEaHnw39YAZRiAj4mZim2pHc56Lu+ZqzXOheNei2Yj8BrNJujNwi0n9qJWzCiGgVjWGEoqVAQN9/nVZZoJrzzip+cDupkqXCV00kfSlp90R+55Nq8bD10nm6WWZarVMKWdJ4x8KgKvckIxo5MRL7KbGEINUhyYKJpOneYDcaT8L6j+RP3n1C1YZ2PL1Qb/Ba2vdeQkFCHMfiLZnAPgvcUFSwtPPnC6vIgjiot5W+biltDOsADvmimtHpf3OaRC1fdv+CA5SiPMIi8XNgXrv67R/dqpoDXm5r9XzlbykzkPTQFVpLDfn/OUVAdC74tcfPYlPrBIzctETLLy0qY50B1Bbmzz3bTQ15r5oSTV8d+plgh7aWQCZpWvzUWeW1qhUqb1XN9ydNp9DjF+43pte5X0C4GV8CVnrnynMEUV+uKeblk5wtTyQ3+IiHt8uqGp6lozCp6GylnC+sabTw/+MMtjzX98b/lfgxogNNx6cm1yHE71CLvJ4QCN6HEYnZmp+fDwzorWxlbyU09xDHMwC06r4g5uZjCn4t9AacOUgY5weVIuWEyuGbO3lqTb7vL1ZIVVbWv8S3naXELaDHxrMGq6CE102uEbQI0I/LWZAIwKNxETjEX/nj/xyzfO1Ub7FBn6BE83oCi0dCgC5k7g5yZviZKjW6wAEIbx3QjXvuFVe8OoJMCJ2Kb1K47JIy/WDzhR2XW2gDALdvsdgcVkzamcIf/ACyCT97/hv0bdNBsMke+tlsHXvKI7ReFgP4Ld4g0dGBXUWIXUZPDxkaLMAX5TUGKaGK+bcwvNzlxh7VhvH0S9W+r7X4MfxrJDG0epBqWVJZwYLSUaskAd+LT9mAp3JVBu0RlVC3eCv4UZ99w236HBOsKvjowCAHCf8r7ytz5Tk4hc7163x5wcFctKjN2ScEqIzZ5dYQTQSn394k82WcJh9Mxe8sKDyUfhEjLlM3wAPIqFPYu5ZS8FUH4kcI0bk9mnZUU7HPGZmpHT6q6OanVXPf3XnX5Tnn08at1LTctW9I+uAeaHde7f1xLqef+utEaW7NoRDMCkUyn9MQwPQU78LX8yPpi9YvwyFvWNUl3KP5KA8NEggDcQEyNbByaOpY0XRWZL+4lH+ICgZanx8/7mR//z8gcZ0M/bQuuN4aGgIgMcRj18JKbhiScd/4yqGKoBa74ln58cCKTqdxctyVcr8+Ev/9O6gJjsAAA"},a434:function(t,e,n){"use strict";var i=n("23e7"),r=n("23cb"),o=n("a691"),c=n("50c4"),a=n("7b0b"),s=n("65f0"),f=n("8418"),l=n("1dde"),u=n("ae40"),h=l("splice"),b=u("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,v=Math.min,g=9007199254740991,p="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!h||!b},{splice:function(t,e){var n,i,l,u,h,b,A=a(this),m=c(A.length),w=r(t,m),C=arguments.length;if(0===C?n=i=0:1===C?(n=0,i=m-w):(n=C-2,i=v(d(o(e),0),m-w)),m+n-i>g)throw TypeError(p);for(l=s(A,i),u=0;u<i;u++)h=w+u,h in A&&f(l,u,A[h]);if(l.length=i,n<i){for(u=w;u<m-i;u++)h=u+i,b=u+n,h in A?A[b]=A[h]:delete A[b];for(u=m;u>m-i+n;u--)delete A[u-1]}else if(n>i)for(u=m-i;u>w;u--)h=u+i-1,b=u+n-1,h in A?A[b]=A[h]:delete A[b];for(u=0;u<n;u++)A[u+w]=arguments[u+2];return A.length=m-i+n,l}})},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},a687:function(t,e,n){"use strict";var i=n("80d9"),r=n.n(i);r.a},ae40:function(t,e,n){var i=n("83ab"),r=n("d039"),o=n("5135"),c=Object.defineProperty,a=function(t){throw t};t.exports=function(t,e){e||(e={});var n=[][t],s=!!o(e,"ACCESSORS")&&e.ACCESSORS,f=o(e,0)?e[0]:a,l=o(e,1)?e[1]:void 0;return!!n&&!r((function(){if(s&&!i)return!0;var t={length:-1},e=function(e){s?c(t,e,{enumerable:!0,get:a}):t[e]=1};e(1),e(2147483646),e(4294967294),n.call(t,f,l)}))}},aeb0:function(t,e,n){t.exports=n.p+"img/bg.fcaad0f5.webp"},b64b:function(t,e,n){var i=n("23e7"),r=n("7b0b"),o=n("df75"),c=n("d039"),a=c((function(){o(1)}));i({target:"Object",stat:!0,forced:a},{keys:function(t){return o(r(t))}})},dbb4:function(t,e,n){var i=n("23e7"),r=n("83ab"),o=n("56ef"),c=n("fc6a"),a=n("06cf"),s=n("8418");i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,n,i=c(t),r=a.f,f=o(i),l={},u=0;while(f.length>u)n=r(i,e=f[u++]),void 0!==n&&s(l,e,n);return l}})},e439:function(t,e,n){var i=n("23e7"),r=n("d039"),o=n("fc6a"),c=n("06cf").f,a=n("83ab"),s=r((function(){c(1)})),f=!a||s;i({target:"Object",stat:!0,forced:f,sham:!a},{getOwnPropertyDescriptor:function(t,e){return c(o(t),e)}})}}]);